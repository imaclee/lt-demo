"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function p(q,v){try{var w=b[q](v),x=w.value}catch(y){return void d(y)}return w.done?void c(x):Promise.resolve(x).then(function(y){p("next",y)},function(y){p("throw",y)})}return p("next")})}}function safe_add(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function rol(a,b){return a<<b|a>>>32-b}function cmn(a,b,c,d,p,q){return safe_add(rol(safe_add(safe_add(b,a),safe_add(d,q)),p),c)}function ff(a,b,c,d,p,q,v){return cmn(b&c|~b&d,a,b,p,q,v)}function gg(a,b,c,d,p,q,v){return cmn(b&d|c&~d,a,b,p,q,v)}function hh(a,b,c,d,p,q,v){return cmn(b^c^d,a,b,p,q,v)}function ii(a,b,c,d,p,q,v){return cmn(c^(b|~d),a,b,p,q,v)}function coreMD5(a){for(var b=1732584193,c=-271733879,d=-1732584194,p=271733878,q=0;q<a.length;q+=16){var v=b,w=c,x=d,y=p;b=ff(b,c,d,p,a[q+0],7,-680876936),p=ff(p,b,c,d,a[q+1],12,-389564586),d=ff(d,p,b,c,a[q+2],17,606105819),c=ff(c,d,p,b,a[q+3],22,-1044525330),b=ff(b,c,d,p,a[q+4],7,-176418897),p=ff(p,b,c,d,a[q+5],12,1200080426),d=ff(d,p,b,c,a[q+6],17,-1473231341),c=ff(c,d,p,b,a[q+7],22,-45705983),b=ff(b,c,d,p,a[q+8],7,1770035416),p=ff(p,b,c,d,a[q+9],12,-1958414417),d=ff(d,p,b,c,a[q+10],17,-42063),c=ff(c,d,p,b,a[q+11],22,-1990404162),b=ff(b,c,d,p,a[q+12],7,1804603682),p=ff(p,b,c,d,a[q+13],12,-40341101),d=ff(d,p,b,c,a[q+14],17,-1502002290),c=ff(c,d,p,b,a[q+15],22,1236535329),b=gg(b,c,d,p,a[q+1],5,-165796510),p=gg(p,b,c,d,a[q+6],9,-1069501632),d=gg(d,p,b,c,a[q+11],14,643717713),c=gg(c,d,p,b,a[q+0],20,-373897302),b=gg(b,c,d,p,a[q+5],5,-701558691),p=gg(p,b,c,d,a[q+10],9,38016083),d=gg(d,p,b,c,a[q+15],14,-660478335),c=gg(c,d,p,b,a[q+4],20,-405537848),b=gg(b,c,d,p,a[q+9],5,568446438),p=gg(p,b,c,d,a[q+14],9,-1019803690),d=gg(d,p,b,c,a[q+3],14,-187363961),c=gg(c,d,p,b,a[q+8],20,1163531501),b=gg(b,c,d,p,a[q+13],5,-1444681467),p=gg(p,b,c,d,a[q+2],9,-51403784),d=gg(d,p,b,c,a[q+7],14,1735328473),c=gg(c,d,p,b,a[q+12],20,-1926607734),b=hh(b,c,d,p,a[q+5],4,-378558),p=hh(p,b,c,d,a[q+8],11,-2022574463),d=hh(d,p,b,c,a[q+11],16,1839030562),c=hh(c,d,p,b,a[q+14],23,-35309556),b=hh(b,c,d,p,a[q+1],4,-1530992060),p=hh(p,b,c,d,a[q+4],11,1272893353),d=hh(d,p,b,c,a[q+7],16,-155497632),c=hh(c,d,p,b,a[q+10],23,-1094730640),b=hh(b,c,d,p,a[q+13],4,681279174),p=hh(p,b,c,d,a[q+0],11,-358537222),d=hh(d,p,b,c,a[q+3],16,-722521979),c=hh(c,d,p,b,a[q+6],23,76029189),b=hh(b,c,d,p,a[q+9],4,-640364487),p=hh(p,b,c,d,a[q+12],11,-421815835),d=hh(d,p,b,c,a[q+15],16,530742520),c=hh(c,d,p,b,a[q+2],23,-995338651),b=ii(b,c,d,p,a[q+0],6,-198630844),p=ii(p,b,c,d,a[q+7],10,1126891415),d=ii(d,p,b,c,a[q+14],15,-1416354905),c=ii(c,d,p,b,a[q+5],21,-57434055),b=ii(b,c,d,p,a[q+12],6,1700485571),p=ii(p,b,c,d,a[q+3],10,-1894986606),d=ii(d,p,b,c,a[q+10],15,-1051523),c=ii(c,d,p,b,a[q+1],21,-2054922799),b=ii(b,c,d,p,a[q+8],6,1873313359),p=ii(p,b,c,d,a[q+15],10,-30611744),d=ii(d,p,b,c,a[q+6],15,-1560198380),c=ii(c,d,p,b,a[q+13],21,1309151649),b=ii(b,c,d,p,a[q+4],6,-145523070),p=ii(p,b,c,d,a[q+11],10,-1120210379),d=ii(d,p,b,c,a[q+2],15,718787259),c=ii(c,d,p,b,a[q+9],21,-343485551),b=safe_add(b,v),c=safe_add(c,w),d=safe_add(d,x),p=safe_add(p,y)}return[b,c,d,p]}function binl2hex(a){for(var b="0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(15&a[d>>2]>>8*(d%4)+4)+b.charAt(15&a[d>>2]>>8*(d%4));return c}function binl2b64(a){for(var b="",c=0;c<32*a.length;c+=6)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a[c>>5]<<c%32|63&a[c>>6]>>32-c%32);return b}function str2binl(a){for(var b=(a.length+8>>6)+1,c=Array(16*b),d=0;d<16*b;d++)c[d]=0;for(var d=0;d<a.length;d++)c[d>>2]|=(255&a.charCodeAt(d))<<8*(d%4);return c[d>>2]|=128<<8*(d%4),c[16*b-2]=8*a.length,c}function strw2binl(a){for(var b=(a.length+4>>5)+1,c=Array(16*b),d=0;d<16*b;d++)c[d]=0;for(var d=0;d<a.length;d++)c[d>>1]|=a.charCodeAt(d)<<16*(d%2);return c[d>>1]|=128<<16*(d%2),c[16*b-2]=16*a.length,c}function hexMD5(a){return binl2hex(coreMD5(str2binl(a)))}function hexMD5w(a){return binl2hex(coreMD5(strw2binl(a)))}function b64MD5(a){return binl2b64(coreMD5(str2binl(a)))}function b64MD5w(a){return binl2b64(coreMD5(strw2binl(a)))}function calcMD5(a){return binl2hex(coreMD5(str2binl(a)))}var regeneratorRuntime=function(a){"use strict";function b(W,X,Y,Z){var $=X&&X.prototype instanceof d?X:d,_=Object.create($.prototype),aa=new B(Z||[]);return _._invoke=x(W,Y,aa),_}function c(W,X,Y){try{return{type:"normal",arg:W.call(X,Y)}}catch(Z){return{type:"throw",arg:Z}}}function d(){}function p(){}function q(){}function v(W){["next","throw","return"].forEach(function(X){W[X]=function(Y){return this._invoke(X,Y)}})}function w(W){function X($,_,aa,ba){var ca=c(W[$],W,_);if("throw"===ca.type)ba(ca.arg);else{var da=ca.arg,ea=da.value;return ea&&"object"===("undefined"==typeof ea?"undefined":_typeof(ea))&&F.call(ea,"__await")?Promise.resolve(ea.__await).then(function(fa){X("next",fa,aa,ba)},function(fa){X("throw",fa,aa,ba)}):Promise.resolve(ea).then(function(fa){da.value=fa,aa(da)},function(fa){return X("throw",fa,aa,ba)})}}var Z;this._invoke=function($,_){function aa(){return new Promise(function(ba,ca){X($,_,ba,ca)})}return Z=Z?Z.then(aa,aa):aa()}}function x(W,X,Y){var Z=L;return function(_,aa){if(Z==N)throw new Error("Generator is already running");if(Z==O){if("throw"===_)throw aa;return D()}for(Y.method=_,Y.arg=aa;;){var ba=Y.delegate;if(ba){var ca=y(ba,Y);if(ca){if(ca===R)continue;return ca}}if("next"===Y.method)Y.sent=Y._sent=Y.arg;else if("throw"===Y.method){if(Z==L)throw Z=O,Y.arg;Y.dispatchException(Y.arg)}else"return"===Y.method&&Y.abrupt("return",Y.arg);Z=N;var da=c(W,X,Y);if("normal"===da.type){if(Z=Y.done?O:M,da.arg===R)continue;return{value:da.arg,done:Y.done}}"throw"===da.type&&(Z=O,Y.method="throw",Y.arg=da.arg)}}}function y(W,X){var Y=W.iterator[X.method];if(Y===G){if(X.delegate=null,"throw"===X.method){if(W.iterator.return&&(X.method="return",X.arg=G,y(W,X),"throw"===X.method))return R;X.method="throw",X.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var Z=c(Y,W.iterator,X.arg);if("throw"===Z.type)return X.method="throw",X.arg=Z.arg,X.delegate=null,R;var $=Z.arg;if(!$)return X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,R;if($.done)X[W.resultName]=$.value,X.next=W.nextLoc,"return"!==X.method&&(X.method="next",X.arg=G);else return $;return X.delegate=null,R}function z(W){var X={tryLoc:W[0]};1 in W&&(X.catchLoc=W[1]),2 in W&&(X.finallyLoc=W[2],X.afterLoc=W[3]),this.tryEntries.push(X)}function A(W){var X=W.completion||{};X.type="normal",delete X.arg,W.completion=X}function B(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(z,this),this.reset(!0)}function C(W){if(W){var X=W[I];if(X)return X.call(W);if("function"==typeof W.next)return W;if(!isNaN(W.length)){var Y=-1,Z=function $(){for(;++Y<W.length;)if(F.call(W,Y))return $.value=W[Y],$.done=!1,$;return $.value=G,$.done=!0,$};return Z.next=Z}}return{next:D}}function D(){return{value:G,done:!0}}var G,E=Object.prototype,F=E.hasOwnProperty,H="function"==typeof Symbol?Symbol:{},I=H.iterator||"@@iterator",J=H.asyncIterator||"@@asyncIterator",K=H.toStringTag||"@@toStringTag";a.wrap=b;var L="suspendedStart",M="suspendedYield",N="executing",O="completed",R={},S={};S[I]=function(){return this};var T=Object.getPrototypeOf,U=T&&T(T(C([])));U&&U!==E&&F.call(U,I)&&(S=U);var V=q.prototype=d.prototype=Object.create(S);return p.prototype=V.constructor=q,q.constructor=p,q[K]=p.displayName="GeneratorFunction",a.isGeneratorFunction=function(W){var X="function"==typeof W&&W.constructor;return!!X&&(X===p||"GeneratorFunction"===(X.displayName||X.name))},a.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,q):(W.__proto__=q,!(K in W)&&(W[K]="GeneratorFunction")),W.prototype=Object.create(V),W},a.awrap=function(W){return{__await:W}},v(w.prototype),w.prototype[J]=function(){return this},a.AsyncIterator=w,a.async=function(W,X,Y,Z){var $=new w(b(W,X,Y,Z));return a.isGeneratorFunction(X)?$:$.next().then(function(_){return _.done?_.value:$.next()})},v(V),V[K]="Generator",V[I]=function(){return this},V.toString=function(){return"[object Generator]"},a.keys=function(W){var X=[];for(var Y in W)X.push(Y);return X.reverse(),function Z(){for(;X.length;){var $=X.pop();if($ in W)return Z.value=$,Z.done=!1,Z}return Z.done=!0,Z}},a.values=C,B.prototype={constructor:B,reset:function reset(W){if(this.prev=0,this.next=0,this.sent=this._sent=G,this.done=!1,this.delegate=null,this.method="next",this.arg=G,this.tryEntries.forEach(A),!W)for(var X in this)"t"===X.charAt(0)&&F.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=G)},stop:function stop(){this.done=!0;var W=this.tryEntries[0],X=W.completion;if("throw"===X.type)throw X.arg;return this.rval},dispatchException:function dispatchException(W){function X(ca,da){return _.type="throw",_.arg=W,Y.next=ca,da&&(Y.method="next",Y.arg=G),!!da}if(this.done)throw W;for(var Y=this,Z=this.tryEntries.length-1;0<=Z;--Z){var $=this.tryEntries[Z],_=$.completion;if("root"===$.tryLoc)return X("end");if($.tryLoc<=this.prev){var aa=F.call($,"catchLoc"),ba=F.call($,"finallyLoc");if(aa&&ba){if(this.prev<$.catchLoc)return X($.catchLoc,!0);if(this.prev<$.finallyLoc)return X($.finallyLoc)}else if(aa){if(this.prev<$.catchLoc)return X($.catchLoc,!0);}else if(!ba)throw new Error("try statement without catch or finally");else if(this.prev<$.finallyLoc)return X($.finallyLoc)}}},abrupt:function abrupt(W,X){for(var Z,Y=this.tryEntries.length-1;0<=Y;--Y)if(Z=this.tryEntries[Y],Z.tryLoc<=this.prev&&F.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var $=Z;break}$&&("break"===W||"continue"===W)&&$.tryLoc<=X&&X<=$.finallyLoc&&($=null);var _=$?$.completion:{};return _.type=W,_.arg=X,$?(this.method="next",this.next=$.finallyLoc,R):this.complete(_)},complete:function complete(W,X){if("throw"===W.type)throw W.arg;return"break"===W.type||"continue"===W.type?this.next=W.arg:"return"===W.type?(this.rval=this.arg=W.arg,this.method="return",this.next="end"):"normal"===W.type&&X&&(this.next=X),R},finish:function finish(W){for(var Y,X=this.tryEntries.length-1;0<=X;--X)if(Y=this.tryEntries[X],Y.finallyLoc===W)return this.complete(Y.completion,Y.afterLoc),A(Y),R},catch:function _catch(W){for(var Y,X=this.tryEntries.length-1;0<=X;--X)if(Y=this.tryEntries[X],Y.tryLoc===W){var Z=Y.completion;if("throw"===Z.type){var $=Z.arg;A(Y)}return $}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(W,X,Y){return this.delegate={iterator:C(W),resultName:X,nextLoc:Y},"next"===this.method&&(this.arg=G),R}},a}("object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports:{}),AD_CLICK_COUNTS_KEY="lt.click.counts",_ak=wx.getAccountInfoSync().miniProgram.appId,promisify=function(a){return function(b){for(var c=arguments.length,d=Array(1<c?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];return new Promise(function(q,v){a.apply(void 0,[Object.assign({},b,{success:q,fail:v})].concat(d)),Promise.prototype.finally=function(w){var x=this.constructor;return this.then(function(y){return x.resolve(w()).then(function(){return y})},function(y){return x.resolve(w()).then(function(){throw y})})}})}};wx.pro={};var wxPromise=function(){for(var a in wx)wx.hasOwnProperty(a)&&(wx.pro[a]=/^on|^create|Sync$|Manager$|^pause/.test(a)&&"createBLEConnection"!=a||"stopRecord"==a||"stopVoice"==a||"stopBackgroundAudio"==a||"stopPullDownRefresh"==a||"hideKeyboard"==a||"hideToast"==a||"hideLoading"==a||"showNavigationBarLoading"==a||"hideNavigationBarLoading"==a||"canIUse"==a||"navigateBack"==a||"closeSocket"==a||"closeSocket"==a||"pageScrollTo"==a||"drawCanvas"==a?wx[a]:promisify(wx[a]))};wxPromise();var _wxRequest=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},p,q,v,w;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=d.header||{"Content-Type":"application/json",token:d.token||""},q=d.data||{},v=d.method||"GET",y.next=5,new Promise(function(z,A){wx.request({url:c,method:v,data:q,header:p,success:function success(B){B&&200===B.statusCode?z(B.data):A(B)},fail:function fail(B){A(B)},complete:function complete(){}})});case 5:return w=y.sent,y.abrupt("return",w);case 7:case"end":return y.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();function _setSystemInfo(a){wx.getSystemInfo({success:function success(b){a.wv="undefined"==typeof b.SDKVersion?"1.0.0":b.SDKVersion,a.pb=b.brand,a.pm=b.model,a.pr=b.pixelRatio,a.ww=b.screenWidth,a.wh=b.screenHeight,a.lang=b.language,a.wvv=b.version,a.sv=b.system,a.pv=b.platform},complete:function complete(){}})}function _setLocationInfo(a){wx.getSetting({success:function success(b){b.authSetting["scope.userLocation"]?wx.getLocation({type:"wgs84",success:function success(c){a.long=c.latitude,a.lat=c.longitude},complete:function complete(){}}):console.log("")},fail:function fail(){}})}function _setNetworkInfo(a){wx.getNetworkType({success:function success(b){a.nt=b.networkType},complete:function complete(){}})}function _makeUuid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var b;try{if(b=wx.getStorageSync("ltuuid"),b)return b}catch(c){}b=a()+a()+a()+a()+a()+a()+a()+a();try{wx.setStorageSync("ltuuid",b)}catch(c){}return b}var _rawAds=null,_ads=null,_tagAds=null,getAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,p,q,v,w,x;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(_ads&&0<_ads.length)){z.next=2;break}return z.abrupt("return",_ads);case 2:return z.next=4,_getRawAds();case 4:if(_rawAds){z.next=6;break}return z.abrupt("return");case 6:for(_ads=[],c=!0,d=!1,p=void 0,z.prev=10,q=_rawAds[Symbol.iterator]();!(c=(v=q.next()).done);c=!0)w=v.value,x={adId:w.appId,appId:w.appId,name:w.name,description:w.desc,img:w.logo,path:w.path},_ads.push(x);z.next=18;break;case 14:z.prev=14,z.t0=z["catch"](10),d=!0,p=z.t0;case 18:z.prev=18,z.prev=19,!c&&q.return&&q.return();case 21:if(z.prev=21,!d){z.next=24;break}throw p;case 24:return z.finish(21);case 25:return z.finish(18);case 26:return z.abrupt("return",_ads);case 27:case"end":return z.stop();}},b,void 0,[[10,14,18,26],[19,,21,25]])}));return function(){return a.apply(this,arguments)}}(),_getRawAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(_rawAds){d.next=4;break}return d.next=3,_httpGetAds();case 3:_rawAds=d.sent;case 4:return _rawAds&&_rawAds.length&&_resetAdClickCounts(_rawAds),d.abrupt("return",_rawAds);case 6:case"end":return d.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_initTagAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,p,q,v,w,x,y,z,A,B,C,D,E,F;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,_getRawAds();case 2:if(c=H.sent,c){H.next=5;break}return H.abrupt("return");case 5:_tagAds={},d=!0,p=!1,q=void 0,H.prev=9,v=c[Symbol.iterator]();case 11:if(d=(w=v.next()).done){H.next=36;break}if(x=w.value,!x.positions){H.next=33;break}for(y=!0,z=!1,A=void 0,H.prev=17,B=x.positions[Symbol.iterator]();!(y=(C=B.next()).done);y=!0)D=C.value,(!D.dc||0===D.dc||D.dc>_getAdClickCounts(D.id))&&(E=D.name,!_tagAds[E]&&(_tagAds[E]=[]),F={adId:D.id,appId:x.appId,name:D.title,description:x.desc,img:D.img,path:D.path},_tagAds[E].push(F));H.next=25;break;case 21:H.prev=21,H.t0=H["catch"](17),z=!0,A=H.t0;case 25:H.prev=25,H.prev=26,!y&&B.return&&B.return();case 28:if(H.prev=28,!z){H.next=31;break}throw A;case 31:return H.finish(28);case 32:return H.finish(25);case 33:d=!0,H.next=11;break;case 36:H.next=42;break;case 38:H.prev=38,H.t1=H["catch"](9),p=!0,q=H.t1;case 42:H.prev=42,H.prev=43,!d&&v.return&&v.return();case 45:if(H.prev=45,!p){H.next=48;break}throw q;case 48:return H.finish(45);case 49:return H.finish(42);case 50:case"end":return H.stop();}},b,void 0,[[9,38,42,50],[17,21,25,33],[26,,28,32],[43,,45,49]])}));return function(){return a.apply(this,arguments)}}(),getAdsByPosition=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(c){q.next=3;break}return console.warn("\u4F20\u5165\u7684\u5E7F\u544A\u4F4D\u540D\u79F0\u4E3A\u7A7A"),q.abrupt("return");case 3:if(_tagAds){q.next=6;break}return q.next=6,_initTagAds();case 6:if(_tagAds){q.next=8;break}return q.abrupt("return");case 8:return d=_tagAds[c],d||console.warn("\u9A86\u9A7C\u6362\u91CF\u63D0\u793A\uFF1A\u5E7F\u544A\u4F4D\u540D\u79F0\u4E3A\""+c+"\"\u7684\u65E0\u5E7F\u544A\u6570\u636E\uFF0C\u8BF7\u767B\u5F55\u9A86\u9A7C\u6362\u91CF\u540E\u53F0\u68C0\u67E5\u5E7F\u544A\u914D\u7F6E"),q.abrupt("return",d);case 11:case"end":return q.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_onLaunch=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return wx.setStorageSync("lt.wsr",c),v.next=3,_createData();case 3:d=v.sent,p={method:"post",data:d},_wxRequest("https://camelee.cn/lt/wx/api/ad/rt",p);case 6:case"end":return v.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();function _ltApp(a){_call(a,"onLaunch",_onLaunch),_ltApp.prototype.ltad="ltad",App(a)}function _call(a,b,c){if(a[b]){var d=a[b];a[b]=function(p){return d.call.apply(d,[this].concat(Array.prototype.slice.call(arguments))),c.call(this,p,a)}}else a[b]=function(p){c.call(this,p,b)}}var _createData=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,p,q,v,w,x;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return c=_makeUuid(),d=Date.now()+_ak+c+_ak,p=hexMD5(d),q=wx.getStorageSync("ltwsr"),v=getCurrentPages()[0]?getCurrentPages()[0].route:"app",w={ak:_ak,v:"1.0",asid:_ak,reqid:p,wsr:q,pp:v,uuid:c},_setSystemInfo(w),_setLocationInfo(w),_setNetworkInfo(w),z.next=11,_getUserInfo();case 11:return x=z.sent,x&&(w.user_info=JSON.parse(x)),z.abrupt("return",w);case 14:case"end":return z.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_getUserInfo=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,wx.pro.getSetting();case 2:if(c=v.sent,d=c.authSetting,!d["scope.userInfo"]){v.next=10;break}return v.next=7,wx.pro.getUserInfo({withCredentials:!0});case 7:if(p=v.sent,!(p&&"getUserInfo:ok"===p.errMsg)){v.next=10;break}return v.abrupt("return",p.rawData);case 10:case"end":return v.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_httpGetAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return c={method:"post",data:{ak:_ak}},console.log("ad request------",c),q.next=4,_wxRequest("https://camelee.cn/lt/wx/api/ad/ads",c);case 4:return d=q.sent,console.log("ad result-----",d),q.abrupt("return",d.data);case 7:case"end":return q.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_resetAdClickCounts=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,p,q,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(d=new Date().toLocaleDateString(),p=wx.getStorageSync("lt.date"),p&&p===d){M.next=6;break}return wx.setStorageSync("lt.date",d),wx.removeStorageSync(AD_CLICK_COUNTS_KEY),M.abrupt("return");case 6:q=wx.getStorageSync(AD_CLICK_COUNTS_KEY),v={},q&&(v=q),w={},x=!0,y=!1,z=void 0,M.prev=13,A=c[Symbol.iterator]();case 15:if(x=(B=A.next()).done){M.next=44;break}if(C=B.value,D="lt.ad."+C.appId,E=v[D],E||(E=0),w[D]=E,!C.positions){M.next=41;break}for(F=!0,G=!1,H=void 0,M.prev=25,I=C.positions[Symbol.iterator]();!(F=(J=I.next()).done);F=!0)K=J.value,D="lt.ad."+K.id,E=v[D],E||(E=0),w[D]=E;M.next=33;break;case 29:M.prev=29,M.t0=M["catch"](25),G=!0,H=M.t0;case 33:M.prev=33,M.prev=34,!F&&I.return&&I.return();case 36:if(M.prev=36,!G){M.next=39;break}throw H;case 39:return M.finish(36);case 40:return M.finish(33);case 41:x=!0,M.next=15;break;case 44:M.next=50;break;case 46:M.prev=46,M.t1=M["catch"](13),y=!0,z=M.t1;case 50:M.prev=50,M.prev=51,!x&&A.return&&A.return();case 53:if(M.prev=53,!y){M.next=56;break}throw z;case 56:return M.finish(53);case 57:return M.finish(50);case 58:wx.setStorageSync(AD_CLICK_COUNTS_KEY,w);case 59:case"end":return M.stop();}},b,void 0,[[13,46,50,58],[25,29,33,41],[34,,36,40],[51,,53,57]])}));return function(){return a.apply(this,arguments)}}();function _getAdClickCounts(a){var b=wx.getStorageSync(AD_CLICK_COUNTS_KEY),c={};b&&(c=b);var p=c["lt.ad."+a];return p?p:0}var _createAdRtData=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,p,q,v,w;return regeneratorRuntime.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return d=_makeUuid(),p=Date.now()+_ak+d+_ak,q=hexMD5(p),y.next=5,_transWxAppId(c);case 5:return v=y.sent,w={ak:_ak,reqid:q,uuid:d,adId:c,appId:v},y.abrupt("return",w);case 8:case"end":return y.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_transWxAppId=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,p,q,v,w,x,y,z,A,B,C,D,E;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,_getRawAds();case 2:if(d=G.sent,d){G.next=5;break}return G.abrupt("return");case 5:p=!0,q=!1,v=void 0,G.prev=8,w=d[Symbol.iterator]();case 10:if(p=(x=w.next()).done){G.next=42;break}if(y=x.value,!y.positions){G.next=39;break}z=!0,A=!1,B=void 0,G.prev=16,C=y.positions[Symbol.iterator]();case 18:if(z=(D=C.next()).done){G.next=25;break}if(E=D.value,c!==E.id){G.next=22;break}return G.abrupt("return",y.appId);case 22:z=!0,G.next=18;break;case 25:G.next=31;break;case 27:G.prev=27,G.t0=G["catch"](16),A=!0,B=G.t0;case 31:G.prev=31,G.prev=32,!z&&C.return&&C.return();case 34:if(G.prev=34,!A){G.next=37;break}throw B;case 37:return G.finish(34);case 38:return G.finish(31);case 39:p=!0,G.next=10;break;case 42:G.next=48;break;case 44:G.prev=44,G.t1=G["catch"](8),q=!0,v=G.t1;case 48:G.prev=48,G.prev=49,!p&&w.return&&w.return();case 51:if(G.prev=51,!q){G.next=54;break}throw v;case 54:return G.finish(51);case 55:return G.finish(48);case 56:case"end":return G.stop();}},b,void 0,[[8,44,48,56],[16,27,31,39],[32,,34,38],[49,,51,55]])}));return function(){return a.apply(this,arguments)}}(),sendAdClickEvent=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,p,q,v,w,x;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(c){z.next=3;break}return console.warn("\u4F20\u5165\u7684\u5E7F\u544AID\u4E3A\u7A7A"),z.abrupt("return");case 3:return z.next=5,_createAdRtData(c);case 5:d=z.sent,p={method:"post",data:d},_wxRequest("https://camelee.cn/lt/wx/api/ad/cl",p),q=wx.getStorageSync(AD_CLICK_COUNTS_KEY),v={},q&&(v=q),w="lt.ad."+c,x=v[w],x?++x:x=1,v[w]=x,wx.setStorageSync(AD_CLICK_COUNTS_KEY,v),_initTagAds();case 17:case"end":return z.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();module.exports={ltApp:_ltApp,getAds:getAds,getAdsByPosition:getAdsByPosition,sendAdClickEvent:sendAdClickEvent};