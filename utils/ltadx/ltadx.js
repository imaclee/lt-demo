"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function q(v,w){try{var x=b[v](w),y=x.value}catch(z){return void d(z)}return x.done?void c(y):Promise.resolve(y).then(function(z){q("next",z)},function(z){q("throw",z)})}return q("next")})}}function safe_add(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function rol(a,b){return a<<b|a>>>32-b}function cmn(a,b,c,d,q,v){return safe_add(rol(safe_add(safe_add(b,a),safe_add(d,v)),q),c)}function ff(a,b,c,d,q,v,w){return cmn(b&c|~b&d,a,b,q,v,w)}function gg(a,b,c,d,q,v,w){return cmn(b&d|c&~d,a,b,q,v,w)}function hh(a,b,c,d,q,v,w){return cmn(b^c^d,a,b,q,v,w)}function ii(a,b,c,d,q,v,w){return cmn(c^(b|~d),a,b,q,v,w)}function coreMD5(a){for(var b=1732584193,c=-271733879,d=-1732584194,q=271733878,v=0;v<a.length;v+=16){var w=b,x=c,y=d,z=q;b=ff(b,c,d,q,a[v+0],7,-680876936),q=ff(q,b,c,d,a[v+1],12,-389564586),d=ff(d,q,b,c,a[v+2],17,606105819),c=ff(c,d,q,b,a[v+3],22,-1044525330),b=ff(b,c,d,q,a[v+4],7,-176418897),q=ff(q,b,c,d,a[v+5],12,1200080426),d=ff(d,q,b,c,a[v+6],17,-1473231341),c=ff(c,d,q,b,a[v+7],22,-45705983),b=ff(b,c,d,q,a[v+8],7,1770035416),q=ff(q,b,c,d,a[v+9],12,-1958414417),d=ff(d,q,b,c,a[v+10],17,-42063),c=ff(c,d,q,b,a[v+11],22,-1990404162),b=ff(b,c,d,q,a[v+12],7,1804603682),q=ff(q,b,c,d,a[v+13],12,-40341101),d=ff(d,q,b,c,a[v+14],17,-1502002290),c=ff(c,d,q,b,a[v+15],22,1236535329),b=gg(b,c,d,q,a[v+1],5,-165796510),q=gg(q,b,c,d,a[v+6],9,-1069501632),d=gg(d,q,b,c,a[v+11],14,643717713),c=gg(c,d,q,b,a[v+0],20,-373897302),b=gg(b,c,d,q,a[v+5],5,-701558691),q=gg(q,b,c,d,a[v+10],9,38016083),d=gg(d,q,b,c,a[v+15],14,-660478335),c=gg(c,d,q,b,a[v+4],20,-405537848),b=gg(b,c,d,q,a[v+9],5,568446438),q=gg(q,b,c,d,a[v+14],9,-1019803690),d=gg(d,q,b,c,a[v+3],14,-187363961),c=gg(c,d,q,b,a[v+8],20,1163531501),b=gg(b,c,d,q,a[v+13],5,-1444681467),q=gg(q,b,c,d,a[v+2],9,-51403784),d=gg(d,q,b,c,a[v+7],14,1735328473),c=gg(c,d,q,b,a[v+12],20,-1926607734),b=hh(b,c,d,q,a[v+5],4,-378558),q=hh(q,b,c,d,a[v+8],11,-2022574463),d=hh(d,q,b,c,a[v+11],16,1839030562),c=hh(c,d,q,b,a[v+14],23,-35309556),b=hh(b,c,d,q,a[v+1],4,-1530992060),q=hh(q,b,c,d,a[v+4],11,1272893353),d=hh(d,q,b,c,a[v+7],16,-155497632),c=hh(c,d,q,b,a[v+10],23,-1094730640),b=hh(b,c,d,q,a[v+13],4,681279174),q=hh(q,b,c,d,a[v+0],11,-358537222),d=hh(d,q,b,c,a[v+3],16,-722521979),c=hh(c,d,q,b,a[v+6],23,76029189),b=hh(b,c,d,q,a[v+9],4,-640364487),q=hh(q,b,c,d,a[v+12],11,-421815835),d=hh(d,q,b,c,a[v+15],16,530742520),c=hh(c,d,q,b,a[v+2],23,-995338651),b=ii(b,c,d,q,a[v+0],6,-198630844),q=ii(q,b,c,d,a[v+7],10,1126891415),d=ii(d,q,b,c,a[v+14],15,-1416354905),c=ii(c,d,q,b,a[v+5],21,-57434055),b=ii(b,c,d,q,a[v+12],6,1700485571),q=ii(q,b,c,d,a[v+3],10,-1894986606),d=ii(d,q,b,c,a[v+10],15,-1051523),c=ii(c,d,q,b,a[v+1],21,-2054922799),b=ii(b,c,d,q,a[v+8],6,1873313359),q=ii(q,b,c,d,a[v+15],10,-30611744),d=ii(d,q,b,c,a[v+6],15,-1560198380),c=ii(c,d,q,b,a[v+13],21,1309151649),b=ii(b,c,d,q,a[v+4],6,-145523070),q=ii(q,b,c,d,a[v+11],10,-1120210379),d=ii(d,q,b,c,a[v+2],15,718787259),c=ii(c,d,q,b,a[v+9],21,-343485551),b=safe_add(b,w),c=safe_add(c,x),d=safe_add(d,y),q=safe_add(q,z)}return[b,c,d,q]}function binl2hex(a){for(var b="0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(15&a[d>>2]>>8*(d%4)+4)+b.charAt(15&a[d>>2]>>8*(d%4));return c}function binl2b64(a){for(var b="",c=0;c<32*a.length;c+=6)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a[c>>5]<<c%32|63&a[c>>6]>>32-c%32);return b}function str2binl(a){for(var b=(a.length+8>>6)+1,c=Array(16*b),d=0;d<16*b;d++)c[d]=0;for(var d=0;d<a.length;d++)c[d>>2]|=(255&a.charCodeAt(d))<<8*(d%4);return c[d>>2]|=128<<8*(d%4),c[16*b-2]=8*a.length,c}function strw2binl(a){for(var b=(a.length+4>>5)+1,c=Array(16*b),d=0;d<16*b;d++)c[d]=0;for(var d=0;d<a.length;d++)c[d>>1]|=a.charCodeAt(d)<<16*(d%2);return c[d>>1]|=128<<16*(d%2),c[16*b-2]=16*a.length,c}function hexMD5(a){return binl2hex(coreMD5(str2binl(a)))}function hexMD5w(a){return binl2hex(coreMD5(strw2binl(a)))}function b64MD5(a){return binl2b64(coreMD5(str2binl(a)))}function b64MD5w(a){return binl2b64(coreMD5(strw2binl(a)))}function calcMD5(a){return binl2hex(coreMD5(str2binl(a)))}var regeneratorRuntime=function(a){"use strict";function b(X,Y,Z,$){var _=Y&&Y.prototype instanceof d?Y:d,aa=Object.create(_.prototype),ba=new C($||[]);return aa._invoke=y(X,Z,ba),aa}function c(X,Y,Z){try{return{type:"normal",arg:X.call(Y,Z)}}catch($){return{type:"throw",arg:$}}}function d(){}function q(){}function v(){}function w(X){["next","throw","return"].forEach(function(Y){X[Y]=function(Z){return this._invoke(Y,Z)}})}function x(X){function Y(_,aa,ba,ca){var da=c(X[_],X,aa);if("throw"===da.type)ca(da.arg);else{var ea=da.arg,fa=ea.value;return fa&&"object"===("undefined"==typeof fa?"undefined":_typeof(fa))&&G.call(fa,"__await")?Promise.resolve(fa.__await).then(function(ga){Y("next",ga,ba,ca)},function(ga){Y("throw",ga,ba,ca)}):Promise.resolve(fa).then(function(ga){ea.value=ga,ba(ea)},function(ga){return Y("throw",ga,ba,ca)})}}var $;this._invoke=function(_,aa){function ba(){return new Promise(function(ca,da){Y(_,aa,ca,da)})}return $=$?$.then(ba,ba):ba()}}function y(X,Y,Z){var $=M;return function(aa,ba){if($==O)throw new Error("Generator is already running");if($==R){if("throw"===aa)throw ba;return E()}for(Z.method=aa,Z.arg=ba;;){var ca=Z.delegate;if(ca){var da=z(ca,Z);if(da){if(da===S)continue;return da}}if("next"===Z.method)Z.sent=Z._sent=Z.arg;else if("throw"===Z.method){if($==M)throw $=R,Z.arg;Z.dispatchException(Z.arg)}else"return"===Z.method&&Z.abrupt("return",Z.arg);$=O;var ea=c(X,Y,Z);if("normal"===ea.type){if($=Z.done?R:N,ea.arg===S)continue;return{value:ea.arg,done:Z.done}}"throw"===ea.type&&($=R,Z.method="throw",Z.arg=ea.arg)}}}function z(X,Y){var Z=X.iterator[Y.method];if(Z===H){if(Y.delegate=null,"throw"===Y.method){if(X.iterator.return&&(Y.method="return",Y.arg=H,z(X,Y),"throw"===Y.method))return S;Y.method="throw",Y.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var $=c(Z,X.iterator,Y.arg);if("throw"===$.type)return Y.method="throw",Y.arg=$.arg,Y.delegate=null,S;var _=$.arg;if(!_)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,S;if(_.done)Y[X.resultName]=_.value,Y.next=X.nextLoc,"return"!==Y.method&&(Y.method="next",Y.arg=H);else return _;return Y.delegate=null,S}function A(X){var Y={tryLoc:X[0]};1 in X&&(Y.catchLoc=X[1]),2 in X&&(Y.finallyLoc=X[2],Y.afterLoc=X[3]),this.tryEntries.push(Y)}function B(X){var Y=X.completion||{};Y.type="normal",delete Y.arg,X.completion=Y}function C(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(A,this),this.reset(!0)}function D(X){if(X){var Y=X[J];if(Y)return Y.call(X);if("function"==typeof X.next)return X;if(!isNaN(X.length)){var Z=-1,$=function _(){for(;++Z<X.length;)if(G.call(X,Z))return _.value=X[Z],_.done=!1,_;return _.value=H,_.done=!0,_};return $.next=$}}return{next:E}}function E(){return{value:H,done:!0}}var H,F=Object.prototype,G=F.hasOwnProperty,I="function"==typeof Symbol?Symbol:{},J=I.iterator||"@@iterator",K=I.asyncIterator||"@@asyncIterator",L=I.toStringTag||"@@toStringTag";a.wrap=b;var M="suspendedStart",N="suspendedYield",O="executing",R="completed",S={},T={};T[J]=function(){return this};var U=Object.getPrototypeOf,V=U&&U(U(D([])));V&&V!==F&&G.call(V,J)&&(T=V);var W=v.prototype=d.prototype=Object.create(T);return q.prototype=W.constructor=v,v.constructor=q,v[L]=q.displayName="GeneratorFunction",a.isGeneratorFunction=function(X){var Y="function"==typeof X&&X.constructor;return!!Y&&(Y===q||"GeneratorFunction"===(Y.displayName||Y.name))},a.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,v):(X.__proto__=v,!(L in X)&&(X[L]="GeneratorFunction")),X.prototype=Object.create(W),X},a.awrap=function(X){return{__await:X}},w(x.prototype),x.prototype[K]=function(){return this},a.AsyncIterator=x,a.async=function(X,Y,Z,$){var _=new x(b(X,Y,Z,$));return a.isGeneratorFunction(Y)?_:_.next().then(function(aa){return aa.done?aa.value:_.next()})},w(W),W[L]="Generator",W[J]=function(){return this},W.toString=function(){return"[object Generator]"},a.keys=function(X){var Y=[];for(var Z in X)Y.push(Z);return Y.reverse(),function $(){for(;Y.length;){var _=Y.pop();if(_ in X)return $.value=_,$.done=!1,$}return $.done=!0,$}},a.values=D,C.prototype={constructor:C,reset:function reset(X){if(this.prev=0,this.next=0,this.sent=this._sent=H,this.done=!1,this.delegate=null,this.method="next",this.arg=H,this.tryEntries.forEach(B),!X)for(var Y in this)"t"===Y.charAt(0)&&G.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=H)},stop:function stop(){this.done=!0;var X=this.tryEntries[0],Y=X.completion;if("throw"===Y.type)throw Y.arg;return this.rval},dispatchException:function dispatchException(X){function Y(da,ea){return aa.type="throw",aa.arg=X,Z.next=da,ea&&(Z.method="next",Z.arg=H),!!ea}if(this.done)throw X;for(var Z=this,$=this.tryEntries.length-1;0<=$;--$){var _=this.tryEntries[$],aa=_.completion;if("root"===_.tryLoc)return Y("end");if(_.tryLoc<=this.prev){var ba=G.call(_,"catchLoc"),ca=G.call(_,"finallyLoc");if(ba&&ca){if(this.prev<_.catchLoc)return Y(_.catchLoc,!0);if(this.prev<_.finallyLoc)return Y(_.finallyLoc)}else if(ba){if(this.prev<_.catchLoc)return Y(_.catchLoc,!0);}else if(!ca)throw new Error("try statement without catch or finally");else if(this.prev<_.finallyLoc)return Y(_.finallyLoc)}}},abrupt:function abrupt(X,Y){for(var $,Z=this.tryEntries.length-1;0<=Z;--Z)if($=this.tryEntries[Z],$.tryLoc<=this.prev&&G.call($,"finallyLoc")&&this.prev<$.finallyLoc){var _=$;break}_&&("break"===X||"continue"===X)&&_.tryLoc<=Y&&Y<=_.finallyLoc&&(_=null);var aa=_?_.completion:{};return aa.type=X,aa.arg=Y,_?(this.method="next",this.next=_.finallyLoc,S):this.complete(aa)},complete:function complete(X,Y){if("throw"===X.type)throw X.arg;return"break"===X.type||"continue"===X.type?this.next=X.arg:"return"===X.type?(this.rval=this.arg=X.arg,this.method="return",this.next="end"):"normal"===X.type&&Y&&(this.next=Y),S},finish:function finish(X){for(var Z,Y=this.tryEntries.length-1;0<=Y;--Y)if(Z=this.tryEntries[Y],Z.finallyLoc===X)return this.complete(Z.completion,Z.afterLoc),B(Z),S},catch:function _catch(X){for(var Z,Y=this.tryEntries.length-1;0<=Y;--Y)if(Z=this.tryEntries[Y],Z.tryLoc===X){var $=Z.completion;if("throw"===$.type){var _=$.arg;B(Z)}return _}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(X,Y,Z){return this.delegate={iterator:D(X),resultName:Y,nextLoc:Z},"next"===this.method&&(this.arg=H),S}},a}("object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports:{}),AD_CLICK_COUNTS_DAY="lt.click.counts.day",AD_CLICK_COUNTS_PERM="lt.click.counts.perm",_ak=wx.getAccountInfoSync().miniProgram.appId,promisify=function(a){return function(b){for(var c=arguments.length,d=Array(1<c?c-1:0),q=1;q<c;q++)d[q-1]=arguments[q];return new Promise(function(v,w){a.apply(void 0,[Object.assign({},b,{success:v,fail:w})].concat(d)),Promise.prototype.finally=function(x){var y=this.constructor;return this.then(function(z){return y.resolve(x()).then(function(){return z})},function(z){return y.resolve(x()).then(function(){throw z})})}})}};wx.pro={};var wxPromise=function(){for(var a in wx)wx.hasOwnProperty(a)&&(wx.pro[a]=/^on|^create|Sync$|Manager$|^pause/.test(a)&&"createBLEConnection"!=a||"stopRecord"==a||"stopVoice"==a||"stopBackgroundAudio"==a||"stopPullDownRefresh"==a||"hideKeyboard"==a||"hideToast"==a||"hideLoading"==a||"showNavigationBarLoading"==a||"hideNavigationBarLoading"==a||"canIUse"==a||"navigateBack"==a||"closeSocket"==a||"closeSocket"==a||"pageScrollTo"==a||"drawCanvas"==a?wx[a]:promisify(wx[a]))};wxPromise();var _wxRequest=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},q,v,w,x;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return q=d.header||{"Content-Type":"application/json",token:d.token||""},v=d.data||{},w=d.method||"GET",z.next=5,new Promise(function(A,B){wx.request({url:c,method:w,data:v,header:q,success:function success(C){C&&200===C.statusCode?A(C.data):B(C)},fail:function fail(C){B(C)},complete:function complete(){}})});case 5:return x=z.sent,z.abrupt("return",x);case 7:case"end":return z.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();function _setSystemInfo(a){wx.getSystemInfo({success:function success(b){a.wv="undefined"==typeof b.SDKVersion?"1.0.0":b.SDKVersion,a.pb=b.brand,a.pm=b.model,a.pr=b.pixelRatio,a.ww=b.screenWidth,a.wh=b.screenHeight,a.lang=b.language,a.wvv=b.version,a.sv=b.system,a.pv=b.platform},complete:function complete(){}})}function _setLocationInfo(a){wx.getSetting({success:function success(b){b.authSetting["scope.userLocation"]?wx.getLocation({type:"wgs84",success:function success(c){a.long=c.latitude,a.lat=c.longitude},complete:function complete(){}}):console.log("")},fail:function fail(){}})}function _setNetworkInfo(a){wx.getNetworkType({success:function success(b){a.nt=b.networkType},complete:function complete(){}})}function _makeUuid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var b;try{if(b=wx.getStorageSync("ltuuid"),b)return b}catch(c){}b=a()+a()+a()+a()+a()+a()+a()+a();try{wx.setStorageSync("ltuuid",b)}catch(c){}return b}var _rawAds=null,_tagAds=null,_getRawAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(_rawAds){d.next=4;break}return d.next=3,_httpGetAds();case 3:_rawAds=d.sent;case 4:return _rawAds&&_rawAds.length&&_resetAdClickCounts(_rawAds),d.abrupt("return",_rawAds);case 6:case"end":return d.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_initTagAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,q,v,w,x,y,z,A,B,C,D,E,F,G,H;return regeneratorRuntime.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,_getRawAds();case 2:if(c=J.sent,c){J.next=5;break}return J.abrupt("return");case 5:_tagAds={},d=!0,q=!1,v=void 0,J.prev=9,w=c[Symbol.iterator]();case 11:if(d=(x=w.next()).done){J.next=36;break}if(y=x.value,!y.positions){J.next=33;break}for(z=!0,A=!1,B=void 0,J.prev=17,C=y.positions[Symbol.iterator]();!(z=(D=C.next()).done);z=!0)E=D.value,F=_getAdClickCounts(E.id,E.dcOption),(!E.dc||0===E.dc||E.dc>F)&&(G=E.name,!_tagAds[G]&&(_tagAds[G]=[]),H={adId:E.id,appId:y.appId,name:E.title,description:y.desc,img:E.img,path:E.path},_tagAds[G].push(H));J.next=25;break;case 21:J.prev=21,J.t0=J["catch"](17),A=!0,B=J.t0;case 25:J.prev=25,J.prev=26,!z&&C.return&&C.return();case 28:if(J.prev=28,!A){J.next=31;break}throw B;case 31:return J.finish(28);case 32:return J.finish(25);case 33:d=!0,J.next=11;break;case 36:J.next=42;break;case 38:J.prev=38,J.t1=J["catch"](9),q=!0,v=J.t1;case 42:J.prev=42,J.prev=43,!d&&w.return&&w.return();case 45:if(J.prev=45,!q){J.next=48;break}throw v;case 48:return J.finish(45);case 49:return J.finish(42);case 50:case"end":return J.stop();}},b,void 0,[[9,38,42,50],[17,21,25,33],[26,,28,32],[43,,45,49]])}));return function(){return a.apply(this,arguments)}}(),getAdsByPosition=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(c){v.next=3;break}return console.error("\u9A86\u9A7C\u6362\u91CFSDK\u6309\u5E7F\u544A\u4F4D\u83B7\u53D6\u5E7F\u544A\u51FA\u9519\uFF1A\u4F20\u5165\u7684\u5E7F\u544A\u4F4D\u540D\u79F0\u4E3A\u7A7A"),v.abrupt("return");case 3:if(_tagAds){v.next=6;break}return v.next=6,_initTagAds();case 6:if(_tagAds){v.next=8;break}return v.abrupt("return");case 8:return d=_tagAds[c],d||console.warn("\u9A86\u9A7C\u6362\u91CF\u63D0\u793A\uFF1A\u5E7F\u544A\u4F4D\u540D\u79F0\u4E3A\""+c+"\"\u7684\u65E0\u5E7F\u544A\u6570\u636E\uFF0C\u8BF7\u767B\u5F55\u9A86\u9A7C\u6362\u91CF\u540E\u53F0\u68C0\u67E5\u5E7F\u544A\u914D\u7F6E"),v.abrupt("return",d);case 11:case"end":return v.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_onLaunch=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,_createRequestData(c);case 2:d=w.sent,q={method:"post",data:d},_wxRequest("https://camelee.cn/lt/wx/api/ad/rt",q);case 5:case"end":return w.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();function _ltApp(a){_call(a,"onLaunch",_onLaunch),_ltApp.prototype.ltad="ltad",App(a)}function _call(a,b,c){if(a[b]){var d=a[b];a[b]=function(q){return d.call.apply(d,[this].concat(Array.prototype.slice.call(arguments))),c.call(this,q,a)}}else a[b]=function(q){c.call(this,q,b)}}var _createRequestData=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q,v,w,x,y;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return d=_makeUuid(),q=Date.now()+_ak+d+_ak,v=hexMD5(q),w=getCurrentPages()[0]?getCurrentPages()[0].route:"app",x={ak:_ak,v:"1.0",asid:_ak,reqid:v,wsr:c,pp:w,uuid:d},_setSystemInfo(x),_setLocationInfo(x),_setNetworkInfo(x),A.next=10,_getUserInfo();case 10:return y=A.sent,y&&(x.user_info=JSON.parse(y)),A.abrupt("return",x);case 13:case"end":return A.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_getUserInfo=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d,q;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,wx.pro.getSetting();case 2:if(c=w.sent,d=c.authSetting,!d["scope.userInfo"]){w.next=10;break}return w.next=7,wx.pro.getUserInfo({withCredentials:!0});case 7:if(q=w.sent,!(q&&"getUserInfo:ok"===q.errMsg)){w.next=10;break}return w.abrupt("return",q.rawData);case 10:case"end":return w.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_httpGetAds=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(){var c,d;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return c={method:"post",data:{ak:_ak}},v.next=3,_wxRequest("https://camelee.cn/lt/wx/api/ad/ads",c);case 3:return d=v.sent,v.abrupt("return",d.data);case 5:case"end":return v.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_resetAdClickCounts=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,R,S;return regeneratorRuntime.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(d=new Date,q=d.toLocaleDateString(),v=d.getFullYear(),w=wx.getStorageSync("lt.date"),w&&w===q){U.next=57;break}x=wx.getStorageSync(AD_CLICK_COUNTS_DAY),y=wx.getStorageSync(AD_CLICK_COUNTS_PERM),z=x||{},A=y||{},B={},C=!0,D=!1,E=void 0,U.prev=13,F=c[Symbol.iterator]();case 15:if(C=(G=F.next()).done){U.next=40;break}if(H=G.value,!H.positions){U.next=37;break}for(I=!0,J=!1,K=void 0,U.prev=21,L=H.positions[Symbol.iterator]();!(I=(M=L.next()).done);I=!0)N=M.value,2===N.dcOption&&(O="lt.ad."+N.id,R=z[O]?z[O]:0,S=A[O]?A[O]:0,(R||S)&&(B[O]=R+S));U.next=29;break;case 25:U.prev=25,U.t0=U["catch"](21),J=!0,K=U.t0;case 29:U.prev=29,U.prev=30,!I&&L.return&&L.return();case 32:if(U.prev=32,!J){U.next=35;break}throw K;case 35:return U.finish(32);case 36:return U.finish(29);case 37:C=!0,U.next=15;break;case 40:U.next=46;break;case 42:U.prev=42,U.t1=U["catch"](13),D=!0,E=U.t1;case 46:U.prev=46,U.prev=47,!C&&F.return&&F.return();case 49:if(U.prev=49,!D){U.next=52;break}throw E;case 52:return U.finish(49);case 53:return U.finish(46);case 54:wx.setStorageSync(AD_CLICK_COUNTS_PERM,B),wx.setStorageSync("lt.date",q),wx.removeStorageSync(AD_CLICK_COUNTS_DAY);case 57:0!==w.indexOf(v)&&wx.removeStorageSync(AD_CLICK_COUNTS_PERM);case 58:case"end":return U.stop();}},b,void 0,[[13,42,46,54],[21,25,29,37],[30,,32,36],[47,,49,53]])}));return function(){return a.apply(this,arguments)}}();function _getAdClickCounts(a,b){var c=wx.getStorageSync(AD_CLICK_COUNTS_DAY),d=c||{},q="lt.ad."+a,v=d[q]?d[q]:0;if(2===b){var w=wx.getStorageSync(AD_CLICK_COUNTS_PERM),x=w||{},y=x[q]?x[q]:0;return y+v}return v}var _createAdRtData=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q,v,w,x;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return d=_makeUuid(),q=Date.now()+_ak+d+_ak,v=hexMD5(q),z.next=5,_transWxAppId(c);case 5:return w=z.sent,x={ak:_ak,reqid:v,uuid:d,adId:c,appId:w},z.abrupt("return",x);case 8:case"end":return z.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}(),_transWxAppId=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q,v,w,x,y,z,A,B,C,D,E,F;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,_getRawAds();case 2:if(d=H.sent,d){H.next=5;break}return H.abrupt("return");case 5:q=!0,v=!1,w=void 0,H.prev=8,x=d[Symbol.iterator]();case 10:if(q=(y=x.next()).done){H.next=42;break}if(z=y.value,!z.positions){H.next=39;break}A=!0,B=!1,C=void 0,H.prev=16,D=z.positions[Symbol.iterator]();case 18:if(A=(E=D.next()).done){H.next=25;break}if(F=E.value,c!==F.id){H.next=22;break}return H.abrupt("return",z.appId);case 22:A=!0,H.next=18;break;case 25:H.next=31;break;case 27:H.prev=27,H.t0=H["catch"](16),B=!0,C=H.t0;case 31:H.prev=31,H.prev=32,!A&&D.return&&D.return();case 34:if(H.prev=34,!B){H.next=37;break}throw C;case 37:return H.finish(34);case 38:return H.finish(31);case 39:q=!0,H.next=10;break;case 42:H.next=48;break;case 44:H.prev=44,H.t1=H["catch"](8),v=!0,w=H.t1;case 48:H.prev=48,H.prev=49,!q&&x.return&&x.return();case 51:if(H.prev=51,!v){H.next=54;break}throw w;case 54:return H.finish(51);case 55:return H.finish(48);case 56:case"end":return H.stop();}},b,void 0,[[8,44,48,56],[16,27,31,39],[32,,34,38],[49,,51,55]])}));return function(){return a.apply(this,arguments)}}(),sendAdClickEvent=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function b(c){var d,q,v,w,x,y;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(c){A.next=3;break}return console.error("\u9A86\u9A7C\u6362\u91CFSDK\u8BB0\u5F55\u70B9\u51FB\u4E8B\u4EF6\u51FA\u9519\uFF1A\u4F20\u5165\u7684\u5E7F\u544AID\u4E3A\u7A7A"),A.abrupt("return");case 3:return A.next=5,_createAdRtData(c);case 5:d=A.sent,q={method:"post",data:d},_wxRequest("https://camelee.cn/lt/wx/api/ad/cl",q),v=wx.getStorageSync(AD_CLICK_COUNTS_DAY),w={},v&&(w=v),x="lt.ad."+c,y=w[x],y?++y:y=1,w[x]=y,wx.setStorageSync(AD_CLICK_COUNTS_DAY,w),_initTagAds();case 17:case"end":return A.stop();}},b,void 0)}));return function(){return a.apply(this,arguments)}}();module.exports={ltApp:_ltApp,getAdsByPosition:getAdsByPosition,sendAdClickEvent:sendAdClickEvent};